/*global document */
'use strict';
var CSS_OPEN_SUFFIX = '-open';
var classList = require('dom-classlist');

module.exports = {
    openView: function(e) {
        var docEl = document.documentElement;
        if (e && e.currentTarget && e.currentTarget.id && 
            !classList(docEl).contains(e.currentTarget.id + CSS_OPEN_SUFFIX) ) {
            this.closeView();
            classList(docEl).add(e.currentTarget.id + CSS_OPEN_SUFFIX);
        } else {
            this.closeView();
        }
    },

    closeView: function() {
        var menusEl = document.getElementsByClassName('uh-menus');
        var docEl = document.documentElement;
        var len = menusEl.length;
        for (var i = 0; i < len; i += 1) {
            if (menusEl.length > 0 && menusEl[i].id) {
                classList(docEl).remove(menusEl[i].id + CSS_OPEN_SUFFIX);
            }
        }
    }
};
