/*global require, describe:true, it:true, beforeEach:true */

'use strict';

var _require = require('root-require');
var expect = require('chai').expect;
var Immutable = require('immutable');
var service = _require('services/theme');

describe('services/theme { theme: \'default\' }', function () {
    var params;
    var req;

    beforeEach(function () {
        req = Immutable.fromJS({
            context: _require('tests/mock/session').get('dimensions').toJS()
        });
        params = req.merge({
            site: 'all',
            theme: 'default'
        });
    });

    describe('#read', function () {
        describe('#ok', function () {
            describe('.single', function () {
                it('{ }', function (done) {
                    service.read(req.toJS(), 'theme', params.toJS(), {}, function (err, result) {
                        var expected = Immutable.fromJS(
                            _require('tests/fixtures/theme/default/').content);
                        var actual = Immutable.fromJS(result);
                        expect(actual.toJS()).to.be.deep.equals(expected.toJS());
                        expect(Immutable.is(actual, expected)).to.be.true;
                        done();
                    });
                });
            });
        });
    });
});
